/*
 jQuery jPList Plugin 4.0.898 
 Copyright 2013 Miriam Zusin. All rights reserved.
 To use this file you must to buy a licence at http://codecanyon.net/user/no81no/portfolio 
*/
(function(f){var b=function(a,c){var b={controller:null};b.options=f.extend(!0,{items_box:".list",item_path:".list-item",panel_path:".panel",no_results:".jplist-no-results",redraw_callback:"",animate_to_top:"",animate_to_top_duration:1E3,ask_event:"jplist_ask",answer_event:"jplist_answer",force_ask_event:"jplist_force_ask",restore_event:"jplist_restore",status_event:"jplist_status",change_url_deep_links_event:"jplist_change_url_deep_links",set_deep_links_event:"jplist_set_deep_links",cookies:!1,expiration:-1,
cookie_name:"jplist",deep_linking:!1,dataSource:{type:"html",server:{ajax:{url:"server.php",dataType:"html",type:"POST"},serverOkCallback:null,serverErrorCallback:null,preloaderPath:".preloader"},jsFunction:{jsFunctionName:null,preloaderPath:".preloader",options:{}}},control_types:{"default-sort":{class_name:"DefaultSort",options:{}},"drop-down":{class_name:"Dropdown",options:{}},label:{class_name:"Label",options:{}},placeholder:{class_name:"Placeholder",options:{paging_length:7,jump_to_start:!1,
prev_arrow:"&lt;",next_arrow:"&gt;",first_arrow:"&lt;&lt;",last_arrow:"&gt;&gt;"}},reset:{class_name:"Reset",options:{}},select:{class_name:"Select",options:{}},textbox:{class_name:"Textbox",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}},views:{class_name:"Views",options:{}},"checkbox-filters":{class_name:"CheckboxFilter",options:{}},"checkbox-group-filter":{class_name:"CheckboxGroupFilter",options:{}},"button-filter":{class_name:"ButtonFilter",options:{}},"radio-buttons-filters":{class_name:"RadioButtonsFilter",
options:{}}}},a);b.controller=new f.fn.jplist.controller.Controller(c,b.options);return f.extend(this,b)};f.fn.jplist=function(a){return this.each(function(){var c=new b(a,f(this));f(this).data("jplist",c)})};f.fn.jplist.models=f.fn.jplist.models||{};f.fn.jplist.services=f.fn.jplist.services||{};f.fn.jplist.view=f.fn.jplist.view||{};f.fn.jplist.actions=f.fn.jplist.actions||{};f.fn.jplist.controller=f.fn.jplist.controller||{};f.fn.jplist.controls=f.fn.jplist.controls||{};f.fn.jplist.addons=f.fn.jplist.addons||
{}})(jQuery);(function(f){var b=function(a,c,b){b={html:null,pathitems:[],jqElement:a,index:b};b.html=jQuery.fn.jplist.services.Helper.getOuterHtml(a);var e,g;a=[];for(var k=0;k<c.length;k++)e=c[k],g=b.jqElement.find(e.jqPath),0<g.length&&(e=new jQuery.fn.jplist.models.Pathitem(g,e),a.push(e));b.pathitems=a;return f.extend(this,b)};b.prototype.findPathitem=function(a){for(var c=null,b,e=0;e<this.pathitems.length;e++)if(b=this.pathitems[e],jQuery.fn.jplist.services.Path.isPathsEqual(b.path,a,!0)){c=b;break}return c};
jQuery.fn.jplist.models.Dataitem=function(a,c,d){a=new b(a,c,d);this.html=a.html;this.jqElement=a.jqElement;this.pathitems=a.pathitems;this.findPathitem=a.findPathitem}})(jQuery);(function(f){jQuery.fn.jplist.models.Path=function(b,a){this.jqPath=b;this.dataType=a}})(jQuery);(function(f){jQuery.fn.jplist.models.Pathitem=function(b,a){this.path=a;this.text=b.text();this.html=b.html()}})(jQuery);(function(f){jQuery.fn.jplist.models.Status=function(b,a,c,d,e){this.action=a;this.name=b;this.type=c;this.data=d;this.cookies=e}})(jQuery);(function(f){jQuery.fn.jplist.services.Path={};jQuery.fn.jplist.services.Path.isPathInList=function(b,a){for(var c,d=!1,e=0;e<a.length;e++)if(c=a[e],jQuery.fn.jplist.services.Path.isPathsEqual(b,c,!0)){d=!0;break}return d};jQuery.fn.jplist.services.Path.isPathsEqual=function(b,a,c){var d=!1;c?b.jqPath===a.jqPath&&(d=!0):b.jqPath===a.jqPath&&b.dataType===a.dataType&&(d=!0);return d}})(jQuery);(function(f){jQuery.fn.jplist.services.Status={};jQuery.fn.jplist.services.Status.findStatusByField=function(b,a,c){for(var d=-1,e,g=0;g<c.length;g++)if(e=c[g],e[a]===b[a]){d=g;break}return d};jQuery.fn.jplist.services.Status.getStatusesByAction=function(b,a){for(var c=[],d,e=0;e<a.length;e++)d=a[e],d.action===b&&c.push(d);return c}})(jQuery);(function(f){jQuery.fn.jplist.services.Cookies={};jQuery.fn.jplist.services.Cookies.setCookie=function(b,a,c){a=escape(a);var d=new Date;c=Number(c);-1==c||isNaN(c)?document.cookie=b+"="+a+";path=/;":(d.setMinutes(d.getMinutes()+c),document.cookie=b+"="+a+";path=/; expires="+d.toUTCString())};jQuery.fn.jplist.services.Cookies.getCookie=function(b){var a,c,d,e=null;d=document.cookie.split(";");for(var g=0;g<d.length;g++)if(a=d[g].substr(0,d[g].indexOf("=")),c=d[g].substr(d[g].indexOf("=")+1),a=a.replace(/^\s+|\s+$/g,
""),a==b){e=unescape(c);break}return e};jQuery.fn.jplist.services.Cookies.saveCookies=function(b,a,c){b=JSON.stringify(b);jQuery.fn.jplist.services.Cookies.setCookie(a,b,c)};jQuery.fn.jplist.services.Cookies.restoreCookies=function(b){b=jQuery.fn.jplist.services.Cookies.getCookie(b);(b=f.parseJSON(b))||(b=[]);return b}})(jQuery);(function(f){jQuery.fn.jplist.services.Helper={};jQuery.fn.jplist.services.Helper.getOuterHtml=function(b){var a="",c=b[0].attributes,d=b.html();b=b[0].tagName.toString().toLowerCase();for(var a=a+("<"+b),e=0;e<c.length;e++)c[e].nodeValue&&(a+=" "+c[e].nodeName+"=",a+='"'+c[e].nodeValue+'"');a=a+">"+d;return a+="</"+b+">"};jQuery.fn.jplist.services.Helper.replaceHash=function(b){b=f.trim(b.replace("#",""));var a;b=""===b?"#":"#"+b;window.location.hash!==b&&("replaceState"in window.history?window.history.replaceState("",
"",b):(a=window.location.href.indexOf("#"),b=-1==a?window.location.href+b:window.location.href.substring(0,a)+b,window.location.replace(b)))}})(jQuery);(function(f){var b=function(c){return f(c.dataview).map(function(c,a){return a.jqElement.get()})},a=function(c){return f(c.dataitems).map(function(c,a){return a.jqElement.get()})},c=function(c,a){for(var b,d=-1,e,g=0;g<c.dataitems.length;g++)if(b=c.dataitems[g],b=jQuery.fn.jplist.services.Helper.getOuterHtml(b.jqElement),e=jQuery.fn.jplist.services.Helper.getOuterHtml(a),b===e){d=g;break}return d},d=function(a,b){b.each(function(){var b=f(this),b=c(a,b);a.dataitems.splice(b,1)})},e=function(c,a,b){a.each(function(a){var d=
f(this);a=new jQuery.fn.jplist.models.Dataitem(d,b,a);c.dataitems.push(a)})},g=function(){return f.extend(this,{dataitems:[],dataview:[]})};g.prototype.dataviewToJqueryObject=function(){return b(this)};g.prototype.dataitemsToJqueryObject=function(){return a(this)};g.prototype.resetDataview=function(){this.dataview=f.merge([],this.dataitems)};g.prototype.modifyDataview=function(c){f.isFunction(c)&&c(this.dataview)};g.prototype.addDataItem=function(c,a,b){c=new jQuery.fn.jplist.models.Dataitem(c,a,
b);this.dataitems.push(c)};g.prototype.addDataItems=function(c,a){e(this,c,a)};g.prototype.delDataitem=function(a){a=c(this,a);this.dataitems.splice(a,1)};g.prototype.delDataitems=function(c){d(this,c)};g.prototype.indexOf=function(a){return c(this,a)};g.prototype.dataviewToString=function(){var c,a="",b;for(b=0;b<this.dataview.length;b++)c=this.dataview[b],a+=c.html;return a};jQuery.fn.jplist.services.Collection=function(){var c;c=new g;this.dataitems=c.dataitems;this.dataview=c.dataview;this.resetDataview=
c.resetDataview;this.modifyDataview=c.modifyDataview;this.addDataItem=c.addDataItem;this.addDataItems=c.addDataItems;this.delDataitem=c.delDataitem;this.delDataitems=c.delDataitems;this.indexOf=c.indexOf;this.dataviewToString=c.dataviewToString;this.dataviewToJqueryObject=c.dataviewToJqueryObject;this.dataitemsToJqueryObject=c.dataitemsToJqueryObject}})(jQuery);(function(f){jQuery.fn.jplist.services.Panel={};jQuery.fn.jplist.services.Panel.findControlsByNameAction=function(b,a,c){for(var d=[],e,g=0;g<b.length;g++)e=b[g],e.name===a&&e.action===c&&d.push(e);return d};jQuery.fn.jplist.services.Panel.findControlsByName=function(b,a){for(var c=[],d,e=0;e<b.length;e++)d=b[e],d.name===a&&c.push(d);return c};jQuery.fn.jplist.services.Panel.mergeWithStatus=function(b,a){for(var c,d=0;d<b.length;d++)c=b[d],c.name===a.name&&c.action===a.action&&f.extend(!0,c,a);return b};
jQuery.fn.jplist.services.Panel.getStatuses=function(b,a){for(var c=[],d,e,g,k=0;k<b.length;k++)if(d=b[k],d=d.getStatus(a))e=jQuery.fn.jplist.services.Status.findStatusByField(d,"name",c),-1!=e?(g=c[e],g.action==d.action&&g.type!=d.type&&f.extend(!0,c[e],d)):c.push(d);return c};jQuery.fn.jplist.services.Panel.setStatuses=function(b,a,c){for(var d,e,g=0;g<a.length;g++){d=a[g];e=jQuery.fn.jplist.services.Panel.findControlsByNameAction(b,d.name,d.action);for(var k=0;k<e.length;k++)e[k].setStatus(d,c)}};
jQuery.fn.jplist.services.Panel.getPaths=function(b){for(var a,c,d=[],e=0;e<b.length;e++){a=b[e];a=a.getPaths();for(var g=0;g<a.length;g++)c=a[g],jQuery.fn.jplist.services.Path.isPathInList(c,d)||d.push(c)}return d}})(jQuery);(function(f){jQuery.fn.jplist.controls.DefaultSort={};jQuery.fn.jplist.controls.DefaultSort.getStatus=function(b,a){var c;c=new jQuery.fn.jplist.controls.Dropdown.statusRelatedDataSort(a.$control.attr("data-path"),a.$control.attr("data-type"),a.$control.attr("data-order"),a.$control.attr("data-datetime-format"),a.$control.attr("data-ignore"));return new jQuery.fn.jplist.models.Status(a.name,a.action,a.type,c,a.cookies)}})(jQuery);(function(f){jQuery.fn.jplist.controls.Dropdown={};jQuery.fn.jplist.controls.Dropdown.statusRelatedDataSort=function(b,a,c,d,e){return{path:b,type:a,order:c,dateTimeFormat:d,ignore:e}};jQuery.fn.jplist.controls.Dropdown.statusRelatedDataFilter=function(b,a){return{path:b,type:a,filterType:"path"}};jQuery.fn.jplist.controls.Dropdown.statusRelatedDataItemsOnPage=function(b){return{number:b}};jQuery.fn.jplist.controls.Dropdown.render=function(b){var a;a=b.$control.find("li:eq(0)");a.addClass("active");
a=a.find("span");0>=b.$control.find(".panel").length&&b.$control.prepend('<div class="panel">'+a.text()+"</div>")};jQuery.fn.jplist.controls.Dropdown.getDeepLink=function(b){var a="",c;c=jQuery.fn.jplist.controls.Dropdown.getStatus(!1,b);if(c.data)switch(b.action){case "paging":f.isNumeric(c.data.number)&&(a=b.name+"--number="+c.data.number);break;case "sort":c.data.path&&(c.data.type&&c.data.order)&&(a=b.name+"--path~type~order="+c.data.path+"~"+c.data.type+"~"+c.data.order);break;case "filter":c.data.path&&
(a=b.name+"--path="+c.data.path)}return a};jQuery.fn.jplist.controls.Dropdown.setDeepLink=function(b,a,c){var d;d=jQuery.fn.jplist.controls.Dropdown.getStatus(!0,b);if(d.data)switch(b.action){case "paging":"number"===a&&f.isNumeric(d.data.number)&&(d.data.number=c,b.$jplistBox.trigger(b.options.status_event,[d]));break;case "sort":"path~type~order"===a&&(a=c.split("~"),3===a.length&&(d.data.path=a[0],d.data.type=a[1],d.data.order=a[2],b.$jplistBox.trigger(b.options.status_event,[d])));break;case "filter":"path"===
a&&d.data.path&&(d.data.path=c,b.$jplistBox.trigger(b.options.status_event,[d]))}};jQuery.fn.jplist.controls.Dropdown.getPaths=function(b,a){var c,d,e;b.$control.find("span").each(function(){c=f(this).attr("data-path");d=f(this).attr("data-type");c&&""!==f.trim(c)&&(e=new jQuery.fn.jplist.models.Path(c,d),jQuery.fn.jplist.services.Path.isPathInList(e,a)||a.push(e))})};jQuery.fn.jplist.controls.Dropdown.getStatus=function(b,a){var c=null,d;b?(d=a.$control.find('li:has(span[data-default="true"])').eq(0),
0>=d.length&&(d=a.$control.find("li:eq(0)"))):d=a.$control.find(".active");d=d.find("span");switch(a.action){case "paging":c=new jQuery.fn.jplist.controls.Select.statusRelatedDataItemsOnPage(d.attr("data-number"));c=new jQuery.fn.jplist.models.Status(a.name,a.action,a.type,c,a.cookies);break;case "sort":(c=a.$control.attr("data-datetime-format"))||(c="");a.$control.attr("data-ignore");c=new jQuery.fn.jplist.controls.Select.statusRelatedDataSort(d.attr("data-path"),d.attr("data-type"),d.attr("data-order"),
c);c=new jQuery.fn.jplist.models.Status(a.name,a.action,a.type,c,a.cookies);break;case "filter":c=new jQuery.fn.jplist.controls.Dropdown.statusRelatedDataFilter(d.attr("data-path"),d.attr("data-type")),c=new jQuery.fn.jplist.models.Status(a.name,a.action,a.type,c,a.cookies)}return c};jQuery.fn.jplist.controls.Dropdown.setStatus=function(b,a,c){var d=null;!a.cookies&&c&&(d=a.$control.find('li:has(span[data-default="true"])').eq(0),0>=d.length&&(d=a.$control.find("li:eq(0)")),d=d.find("span"));switch(a.action){case "filter":!a.cookies&&
c&&0<d.length?(b.data.path=d.attr("data-path"),b.data.type=d.attr("data-type"),a.events.lastStatus=b,a.$jplistBox.trigger(a.options.status_event,[b])):(a.$control.find("li").removeClass("active"),b=a.$control.find('li:has([data-path="'+b.data.path+'"])'),b.addClass("active"),a.$control.find(".panel").text(b.eq(0).text()));break;case "sort":!a.cookies&&c&&0<d.length?(b.data.path=d.attr("data-path"),b.data.type=d.attr("data-type"),b.data.order=d.attr("data-order"),a.events.lastStatus=b,a.$jplistBox.trigger(a.options.status_event,
[b])):(a.$control.find("li").removeClass("active"),b="default"==b.data.path?a.$control.find('li:has([data-path="default"])'):a.$control.find('li:has([data-path="'+b.data.path+'"][data-type="'+b.data.type+'"][data-order="'+b.data.order+'"])'),b.addClass("active"),a.$control.find(".panel").text(b.eq(0).text()));break;case "paging":!a.cookies&&c&&0<d.length?(b.data.number=d.attr("data-number"),a.events.lastStatus=b,a.$jplistBox.trigger(a.options.status_event,[b])):(a.$control.find("li").removeClass("active"),
b=a.$control.find('li:has([data-number="'+b.data.number+'"])'),0===b.length&&(b=a.$control.find('li:has([data-number="all"])')),b.addClass("active"),a.$control.find(".panel").text(b.eq(0).text()))}};jQuery.fn.jplist.controls.Dropdown.initEvents=function(b){var a=f(document).find('[data-control-type="drop-down"]');f(document).click(function(){a.find("ul").hide()});f(document).off("jplist_dropdown_close").on("jplist_dropdown_close",function(c,b){a.each(function(){f(this).is(b)||f(this).find("ul").hide()})});
b.$control.find(".panel").off().click(function(c){var a;c.stopPropagation();c=f(this).parents("[data-control-type]");a=c.find("ul");f(document).trigger("jplist_dropdown_close",[c]);a.is(":visible")?a.hide():a.show()});b.$control.find("li").off().click(function(){var c,a,e,g;c=jQuery.fn.jplist.controls.Dropdown.getStatus(!1,b);g=f(this).find("span");a=g.attr("data-path");e=g.attr("data-number");a?(c.data.path=a,c.data.type=g.attr("data-type"),c.data.order=g.attr("data-order")):e&&(c.data.number=e);
b.events.lastStatus=c;b.$jplistBox.trigger(b.options.status_event,[c])})}})(jQuery);(function(f){jQuery.fn.jplist.controls.Label={};jQuery.fn.jplist.controls.Label.setStatus=function(b,a,c){"paging"===b.action&&(b.data&&b.data.paging)&&(b=b.data.paging,0>=b.pagesNumber?a.$control.html(""):(c=a.$control.attr("data-type"),c=c.replace("{current}",b.currentPage+1),c=c.replace("{pages}",b.pagesNumber),c=c.replace("{start}",b.start+1),c=c.replace("{end}",b.end),c=c.replace("{all}",b.itemsNumber),a.$control.html(c)))}})(jQuery);(function(f){var b=function(c,a){var b=0,g;c?b=0:(g=a.attr("data-number"),b=Number(g),isNaN(g)&&(b=0));return b},a=function(c){var a,e=null;c.$control.find("span").off("click").on("click",function(){a=b(!1,f(this));e=jQuery.fn.jplist.controls.Placeholder.getStatus(!1,c);e.data.currentPage=a;c.events.lastStatus=e;c.$jplistBox.trigger(c.options.status_event,[e])})};jQuery.fn.jplist.controls.Placeholder={};jQuery.fn.jplist.controls.Placeholder.statusRelatedData=function(c,a){var b={currentPage:c,paging:null};
a&&(b.number=a);return b};jQuery.fn.jplist.controls.Placeholder.render=function(c){var a,b,g,k;k=c.controlTypeOptions;c.$control.html('<div class="pagingprev"></div><div class="pagingmid"></div><div class="pagingnext"></div>');a=c.$control.find(".pagingprev");b=c.$control.find(".pagingmid");g=c.$control.find(".pagingnext");c.$control.data("pagingprev",a);c.$control.data("pagingmid",b);c.$control.data("pagingnext",g);a.html('<span class="first" data-number="0">'+k.first_arrow+'</span><span class="prev">'+
k.prev_arrow+"</span>");g.html('<span class="next">'+k.next_arrow+'</span><span class="last">'+k.last_arrow+"</span>");c.$control.data("first",a.find(".first"));c.$control.data("prev",a.find(".prev"));c.$control.data("next",g.find(".next"));c.$control.data("last",g.find(".last"))};jQuery.fn.jplist.controls.Placeholder.getDeepLink=function(c){var a="",b;b=jQuery.fn.jplist.controls.Placeholder.getStatus(!1,c);b.data&&(f.isNumeric(b.data.currentPage)&&(a=c.name+"--currentPage="+b.data.currentPage),f.isNumeric(b.data.number)&&
(a=c.name+"--number="+b.data.number));return a};jQuery.fn.jplist.controls.Placeholder.setDeepLink=function(c,a,b){var g;g=jQuery.fn.jplist.controls.Placeholder.getStatus(!0,c);if(g.data)switch(a){case "currentPage":g.data.currentPage=b;c.$jplistBox.trigger(c.options.status_event,[g]);break;case "number":g.data.number=b,c.$jplistBox.trigger(c.options.status_event,[g])}};jQuery.fn.jplist.controls.Placeholder.getStatus=function(c,a){var e;e=null;e=a.$control.find("span[data-active]").eq(0);0>=e.length&&
(e=a.$control.find("span").eq(0));e=b(c,e);a.controlTypeOptions&&(a.controlTypeOptions.jump_to_start&&a.events.lastStatus&&"placeholder"!==a.events.lastStatus.type)&&(e=0);var g=0,g=a.$control.attr("data-items-per-page"),g=Number(g);isNaN(g)&&(g=0);e=new jQuery.fn.jplist.controls.Placeholder.statusRelatedData(e,g);return e=new jQuery.fn.jplist.models.Status(a.name,a.action,a.type,e,a.cookies)};jQuery.fn.jplist.controls.Placeholder.setStatus=function(c,b,e){if("paging"===b.name)if(!b.cookies&&e)c.data.currentPage=
0,b.events.lastStatus=c,b.$jplistBox.trigger(b.options.status_event,[c]);else if(c.data&&c.data.paging){c=c.data.paging;var g,k;e="";var h;h=b.controlTypeOptions;if(0<=c.currentPage&&c.currentPage<c.pagesNumber){b.$control.removeClass("hidden");k=Math.floor(c.currentPage/h.paging_length);g=h.paging_length*k;k=h.paging_length*(k+1);k>c.pagesNumber&&(k=c.pagesNumber);e+='<div class="pagesbox">';for(h=g;h<k;h++)e+="<span ",h===c.currentPage&&(e+=' class="current" data-active="true" '),g=h+1,e+=' data-number="'+
h+'" ',e+=">"+g+"</span> ";b.$control.data("pagingmid").html(e+"</div>");b.$control.data("prev").attr("data-number",c.prevPage).removeClass("current");b.$control.data("next").attr("data-number",c.nextPage).removeClass("current");b.$control.data("last").attr("data-number",c.pagesNumber-1).removeClass("current")}else b.$control.addClass("hidden");0===c.currentPage?b.$control.data("pagingprev").addClass("hidden"):b.$control.data("pagingprev").removeClass("hidden");c.currentPage==c.pagesNumber-1?b.$control.data("pagingnext").addClass("hidden"):
b.$control.data("pagingnext").removeClass("hidden");a(b)}};jQuery.fn.jplist.controls.Placeholder.initEvents=function(c){a(c)}})(jQuery);(function(f){jQuery.fn.jplist.controls.Reset={};jQuery.fn.jplist.controls.Reset.initEvents=function(b){b.$control.off().click(function(){b.$jplistBox.trigger(b.options.force_ask_event,[!0])})}})(jQuery);(function(f){jQuery.fn.jplist.controls.Select={};jQuery.fn.jplist.controls.Select.statusRelatedDataSort=function(b,a,c,d){return{path:b,type:a,order:c,dateTimeFormat:d}};jQuery.fn.jplist.controls.Select.statusRelatedDataFilter=function(b,a){return{path:b,type:a,filterType:"path"}};jQuery.fn.jplist.controls.Select.statusRelatedDataItemsOnPage=function(b){return{number:b}};jQuery.fn.jplist.controls.Select.setDeepLink=function(b,a,c){var d;d=jQuery.fn.jplist.controls.Select.getStatus(!0,b);if(d.data)switch(b.action){case "paging":"number"===
a&&f.isNumeric(d.data.number)&&(d.data.number=c,b.$jplistBox.trigger(b.options.status_event,[d]));break;case "sort":"path~type~order"===a&&(a=c.split("~"),3===a.length&&(d.data.path=a[0],d.data.type=a[1],d.data.order=a[2],b.$jplistBox.trigger(b.options.status_event,[d])));break;case "filter":"path"===a&&d.data.path&&(d.data.path=c,b.$jplistBox.trigger(b.options.status_event,[d]))}};jQuery.fn.jplist.controls.Select.getDeepLink=function(b){var a="",c;c=jQuery.fn.jplist.controls.Select.getStatus(!1,
b);if(c.data)switch(b.action){case "paging":f.isNumeric(c.data.number)&&(a=b.name+"--number="+c.data.number);break;case "sort":c.data.path&&(c.data.type&&c.data.order)&&(a=b.name+"--path~type~order="+c.data.path+"~"+c.data.type+"~"+c.data.order);break;case "filter":c.data.path&&(a=b.name+"--path="+c.data.path)}return a};jQuery.fn.jplist.controls.Select.getPaths=function(b,a){var c,d,e;b.$control.find("option").each(function(){c=f(this).attr("data-path");d=f(this).attr("data-type");c&&""!==f.trim(c)&&
(e=new jQuery.fn.jplist.models.Path(c,d),jQuery.fn.jplist.services.Path.isPathInList(e,a)||a.push(e))})};jQuery.fn.jplist.controls.Select.getStatus=function(b,a){var c,d=null,e="";b?(c=a.$control.find('option[data-default="true"]').eq(0),0>=c.length&&(c=a.$control.find("option").eq(0))):c=a.$control.find("option:selected");switch(a.action){case "paging":c=new jQuery.fn.jplist.controls.Select.statusRelatedDataItemsOnPage(c.attr("data-number"));d=new jQuery.fn.jplist.models.Status(a.name,a.action,a.type,
c,a.cookies);break;case "sort":(e=a.$control.attr("data-datetime-format"))||(e="");c=new jQuery.fn.jplist.controls.Select.statusRelatedDataSort(c.attr("data-path"),c.attr("data-type"),c.attr("data-order"),e);d=new jQuery.fn.jplist.models.Status(a.name,a.action,a.type,c,a.cookies);break;case "filter":c=new jQuery.fn.jplist.controls.Select.statusRelatedDataFilter(c.attr("data-path"),c.attr("data-type")),d=new jQuery.fn.jplist.models.Status(a.name,a.action,a.type,c,a.cookies)}return d};jQuery.fn.jplist.controls.Select.setStatus=
function(b,a,c){switch(a.action){case "filter":!a.cookies&&c?(b.data.path="default",a.events.lastStatus=b,a.$jplistBox.trigger(a.options.status_event,[b])):(b=a.$control.find('option[data-path="'+b.data.path+'"]'),b.get(0).selected=!0);break;case "sort":!a.cookies&&c?(b.data.path="default",a.events.lastStatus=b,a.$jplistBox.trigger(a.options.status_event,[b])):(b="default"==b.data.path?a.$control.find('option[data-path="'+b.data.path+'"]'):a.$control.find('option[data-path="'+b.data.path+'"][data-type="'+
b.data.type+'"][data-order="'+b.data.order+'"]'),0<b.length&&(b.get(0).selected=!0));break;case "paging":b=a.$control.find('option[data-number="'+b.data.number+'"]'),0===b.length&&(b=a.$control.find('option[data-number="all"]')),b.get(0).selected=!0}};jQuery.fn.jplist.controls.Select.initEvents=function(b){b.$control.change(function(){var a,c,d;a=jQuery.fn.jplist.controls.Select.getStatus(!1,b);c=f(this).find("option:selected");d=c.attr("data-path");c=c.attr("data-number");d?(a.data.path=d,a.data.type=
f(this).attr("data-type"),a.data.order=f(this).attr("data-order")):c&&(a.data.number=c);b.events.lastStatus=a;b.$jplistBox.trigger(b.options.status_event,[a])})}})(jQuery);(function(f){jQuery.fn.jplist.controls.Textbox={};jQuery.fn.jplist.controls.Textbox.statusRelatedData=function(b,a,c){return{path:b,ignore:c,value:a,filterType:"text"}};jQuery.fn.jplist.controls.Textbox.getDeepLink=function(b){var a="",c;c=jQuery.fn.jplist.controls.Textbox.getStatus(!1,b);c.data&&""!==f.trim(c.data.value)&&(a=b.name+"--value="+c.data.value);return a};jQuery.fn.jplist.controls.Textbox.setDeepLink=function(b,a,c){var d;d=jQuery.fn.jplist.controls.Textbox.getStatus(!0,b);d.data&&"value"===
a&&(d.data.value=c,b.$jplistBox.trigger(b.options.status_event,[d]))};jQuery.fn.jplist.controls.Textbox.getPaths=function(b,a){var c;if((c=b.$control.attr("data-path"))&&""!==f.trim(c))c=new jQuery.fn.jplist.models.Path(c,null),jQuery.fn.jplist.services.Path.isPathInList(c,a)||a.push(c)};jQuery.fn.jplist.controls.Textbox.getStatus=function(b,a){var c,d,e="";c=a.$control.attr("data-path");d=b?"":a.$control.val();a.controlTypeOptions&&a.controlTypeOptions.ignore&&(e=a.controlTypeOptions.ignore);c=new jQuery.fn.jplist.controls.Textbox.statusRelatedData(c,
d,e);return new jQuery.fn.jplist.models.Status(a.name,a.action,a.type,c,a.cookies)};jQuery.fn.jplist.controls.Textbox.setStatus=function(b,a,c){!a.cookies&&c?(b.data.value="",a.$jplistBox.trigger(a.options.status_event,[b])):b.data&&(b.data.value||(b.data.value=""),a.$control.val(b.data.value))};jQuery.fn.jplist.controls.Textbox.initEvents=function(b){b.$control.on("keyup",function(){b.events.lastStatus=jQuery.fn.jplist.controls.Textbox.getStatus(!1,b);b.$jplistBox.trigger(b.options.force_ask_event,
[!1])})}})(jQuery);(function(f){jQuery.fn.jplist.controls.Views={};jQuery.fn.jplist.controls.Views.statusRelatedData=function(b){return{isGrid:b}};jQuery.fn.jplist.controls.Views.render=function(b){var a,c;a=b.$control.find(".list-view");c=b.$control.find(".grid-view");b.$control.data("list-view-btn",a);b.$control.data("grid-view-btn",c)};jQuery.fn.jplist.controls.Views.getDeepLink=function(b){var a="",c;c=jQuery.fn.jplist.controls.Views.getStatus(!1,b);c.data&&c.data.isGrid&&(a=b.name+"--isGrid=true");return a};jQuery.fn.jplist.controls.Views.setDeepLink=
function(b,a,c){c=jQuery.fn.jplist.controls.Views.getStatus(!0,b);c.data&&"isGrid"===a&&(c.data.isGrid=!0,b.$jplistBox.trigger(b.options.status_event,[c]))};jQuery.fn.jplist.controls.Views.getStatus=function(b,a){var c;c=new jQuery.fn.jplist.controls.Views.statusRelatedData(a.$jplistBox.hasClass("grid"));return new jQuery.fn.jplist.models.Status(a.name,a.action,a.type,c,a.cookies)};jQuery.fn.jplist.controls.Views.setStatus=function(b,a,c){b.data&&(!a.cookies&&c?(a.$jplistBox.removeClass("grid"),b.data.isGrid=
!1,a.$jplistBox.trigger(a.options.status_event,[b])):(b=b.data.isGrid)?a.$jplistBox.addClass("grid"):a.$jplistBox.removeClass("grid"))};jQuery.fn.jplist.controls.Views.initEvents=function(b){var a,c;a=b.$control.data("list-view-btn");c=b.$control.data("grid-view-btn");0<a.length&&a.click(function(){b.$jplistBox.removeClass("grid");b.events.lastStatus=jQuery.fn.jplist.controls.Views.getStatus(!1,b);b.$jplistBox.trigger(b.options.force_ask_event,[!1])});0<c.length&&c.click(function(){b.$jplistBox.addClass("grid");
b.events.lastStatus=jQuery.fn.jplist.controls.Views.getStatus(!1,b);b.$jplistBox.trigger(b.options.force_ask_event,[!1])})}})(jQuery);(function(f){f.fn.jplist.controls.CheckboxFilter={};f.fn.jplist.controls.CheckboxFilter.render=function(b){var a=b.$control.get(0).checked;!0!==a&&(a=!1);b.$control.data("default-checked",a)};f.fn.jplist.controls.CheckboxFilter.getDeepLink=function(b){var a="",c;c=f.fn.jplist.controls.CheckboxFilter.getStatus(!1,b);c.data&&c.data.isChecked&&(a=b.name+"--isChecked=true");return a};f.fn.jplist.controls.CheckboxFilter.setDeepLink=function(b,a,c){c=f.fn.jplist.controls.CheckboxFilter.getStatus(!0,b);
c.data&&"isChecked"===a&&(c.data.isChecked=!0,b.$jplistBox.trigger(b.options.status_event,[c]))};f.fn.jplist.controls.CheckboxFilter.getPaths=function(b,a){var c;if(c=b.$control.attr("data-path"))c=new f.fn.jplist.models.Path(c,"text"),f.fn.jplist.services.Path.isPathInList(c,a)||a.push(c);c=b.$jplistBox.find('[data-control-type="'+b.type+'"][data-control-action="'+b.action+'"][data-logic="or"]');b.$jplistBox.data("jplist-all-cb-or",c)};f.fn.jplist.controls.CheckboxFilter.getStatus=function(b,a){var c=
null,d,e,c="and";(e=a.$control.attr("data-logic"))&&"or"===e.toString()&&(c="or");b?(e=a.$control.data("default-checked"),!0!==e&&(e=!1)):e=a.$control.get(0).checked;"and"===c?d={path:a.$control.attr("data-path"),type:"text",filterType:"path",isChecked:e}:(d=a.$jplistBox.data("jplist-all-cb-or"),d={path:a.$control.attr("data-path"),type:"text",filterType:"inverted_path",checked_checkboxes:d.filter(":checked"),isChecked:e});"and"===c?e||(d.filterType=""):e&&(d.filterType="");return c=new f.fn.jplist.models.Status(a.name,
a.action,a.type,d,a.cookies)};f.fn.jplist.controls.CheckboxFilter.setStatus=function(b,a,c){a.$control.attr("data-logic");a.$control.attr("data-path");!0!==b.data.isChecked?a.$control.get(0).checked=!1:a.$control.get(0).checked=!0};f.fn.jplist.controls.CheckboxFilter.initEvents=function(b){b.$control.off().change(function(){b.events.lastStatus=f.fn.jplist.controls.CheckboxFilter.getStatus(!1,b);b.$jplistBox.trigger(b.options.force_ask_event,[!1])})}})(jQuery);(function(f){f.fn.jplist.controls.CheckboxGroupFilter={};f.fn.jplist.controls.CheckboxGroupFilter.statusRelatedData=function(b){return{pathGroup:b,filterType:"pathGroup"}};f.fn.jplist.controls.CheckboxGroupFilter.render=function(b){b=b.$control;var a=b.find("[data-path]");b.data("checkboxes",a)};f.fn.jplist.controls.CheckboxGroupFilter.getDeepLink=function(b){var a="",c,d="";c=f.fn.jplist.controls.CheckboxGroupFilter.getStatus(!1,b);if(c.data&&$.isArray(c.data.pathGroup)&&0<c.data.pathGroup.length){for(a=
0;a<c.data.pathGroup.length;a++)""!==d&&(d+="~"),d+=c.data.pathGroup[a];a=b.name+"--pathGroup="+d}return a};f.fn.jplist.controls.CheckboxGroupFilter.setDeepLink=function(b,a,c){var d;d=f.fn.jplist.controls.CheckboxGroupFilter.getStatus(!0,b);d.data&&"pathGroup"===a&&(a=c.split("~"),0<a.length&&(d.data.pathGroup=a,b.$jplistBox.trigger(b.options.status_event,[d])))};f.fn.jplist.controls.CheckboxGroupFilter.getPaths=function(b,a){var c=b.$control.data("checkboxes"),d;if(c)for(var e=0;e<c.length;e++)if(d=
c.eq(e),d=d.attr("data-path"))d=new f.fn.jplist.models.Path(d,"text"),f.fn.jplist.services.Path.isPathInList(d,a)||a.push(d)};f.fn.jplist.controls.CheckboxGroupFilter.getStatus=function(b,a){for(var c=a.$control.data("checkboxes"),d=[],e,g,k=0;k<c.length;k++)e=c.eq(k),(g=e.attr("data-path"))&&e.get(0).checked&&d.push(g);c=new f.fn.jplist.controls.CheckboxGroupFilter.statusRelatedData(d);return new f.fn.jplist.models.Status(a.name,a.action,a.type,c,a.cookies)};f.fn.jplist.controls.CheckboxGroupFilter.setStatus=
function(b,a,c){};f.fn.jplist.controls.CheckboxGroupFilter.initEvents=function(b){b.$control.data("checkboxes").off("change").change(function(){b.events.lastStatus=f.fn.jplist.controls.CheckboxGroupFilter.getStatus(!1,b);b.$jplistBox.trigger(b.options.force_ask_event,[!1])})}})(jQuery);(function(f){jQuery.fn.jplist.controls.ButtonFilter={};jQuery.fn.jplist.controls.ButtonFilter.render=function(b){b.$control.data("selected",!1)};jQuery.fn.jplist.controls.ButtonFilter.getDeepLink=function(b){var a="",c;c=jQuery.fn.jplist.controls.ButtonFilter.getStatus(!1,b);c.data&&c.data.selected&&(a=b.name+"--selected=true");return a};jQuery.fn.jplist.controls.ButtonFilter.setDeepLink=function(b,a,c){c=jQuery.fn.jplist.controls.ButtonFilter.getStatus(!0,b);c.data&&"selected"===a&&(c.data.selected=
!0,b.$jplistBox.trigger(b.options.status_event,[c]))};jQuery.fn.jplist.controls.ButtonFilter.getPaths=function(b,a){var c;if((c=b.$control.attr("data-path"))&&""!==f.trim(c))c=new jQuery.fn.jplist.models.Path(c,"text"),jQuery.fn.jplist.services.Path.isPathInList(c,a)||a.push(c)};jQuery.fn.jplist.controls.ButtonFilter.getStatus=function(b,a){var c;c=(c=b?!1:a.$control.data("selected"))?{path:a.$control.attr("data-path"),type:"text",filterType:"path",selected:c}:{path:a.$control.attr("data-path"),type:"text",
filterType:"",selected:c};return new jQuery.fn.jplist.models.Status(a.name,a.action,a.type,c,a.cookies)};jQuery.fn.jplist.controls.ButtonFilter.setStatus=function(b,a,c){a.$control.data("selected",b.data.selected);b.data.selected?a.$control.addClass("selected"):a.$control.removeClass("selected")};jQuery.fn.jplist.controls.ButtonFilter.initEvents=function(b){var a;b.$control.off().click(function(){a=b.$control.data("selected");b.$control.data("selected",!a);a?b.$control.removeClass("selected"):b.$control.addClass("selected");
b.$jplistBox.trigger(b.options.force_ask_event,[!1])})}})(jQuery);(function(f){jQuery.fn.jplist.controls.RadioButtonsFilter={};jQuery.fn.jplist.controls.RadioButtonsFilter.render=function(b){var a=b.$control.get(0).checked;!0!==a&&(a=!1);b.$control.data("default-checked",a)};jQuery.fn.jplist.controls.RadioButtonsFilter.getPaths=function(b,a){var c;if((c=b.$control.attr("data-path"))&&""!==f.trim(c))c=new jQuery.fn.jplist.models.Path(c,"text"),jQuery.fn.jplist.services.Path.isPathInList(c,a)||a.push(c)};jQuery.fn.jplist.controls.RadioButtonsFilter.getDeepLink=function(b){var a=
"",c;c=jQuery.fn.jplist.controls.RadioButtonsFilter.getStatus(!1,b);c.data&&c.data.selected&&(a=b.name+"--selected=true");return a};jQuery.fn.jplist.controls.RadioButtonsFilter.setDeepLink=function(b,a,c){c=jQuery.fn.jplist.controls.RadioButtonsFilter.getStatus(!0,b);c.data&&"selected"===a&&(c.data.selected=!0,b.$jplistBox.trigger(b.options.status_event,[c]))};jQuery.fn.jplist.controls.RadioButtonsFilter.getStatus=function(b,a){var c=null,d;b?(d=a.$control.data("default-checked"),!0!==d&&(d=!1)):
d=a.$control.get(0).checked;c={path:a.$control.attr("data-path"),type:"text",filterType:"path",selected:d};d||(c.filterType="");return c=new jQuery.fn.jplist.models.Status(a.name,a.action,a.type,c,a.cookies)};jQuery.fn.jplist.controls.RadioButtonsFilter.setStatus=function(b,a,c){!0!==b.data.selected?a.$control.get(0).checked=!1:a.$control.get(0).checked=!0};jQuery.fn.jplist.controls.RadioButtonsFilter.initEvents=function(b){b.$control.off().change(function(){b.events.lastStatus=jQuery.fn.jplist.controls.RadioButtonsFilter.getStatus(!1,
b);b.$jplistBox.trigger(b.options.force_ask_event,[!1])})}})(jQuery);(function(f){jQuery.fn.jplist.actions.Pagination=function(b,a,c){c=Number(c);isNaN(c)&&(c=0);c=this.itemsNumber=c;null===a?a=c:(a=Number(a),isNaN(a)&&(a=c));this.itemsOnPage=a;a=(a=this.itemsOnPage)?Math.ceil(this.itemsNumber/a):0;a=this.pagesNumber=a;b=Number(b);isNaN(b)&&(b=0);b>a-1&&(b=0);this.currentPage=b;this.start=this.currentPage*this.itemsOnPage;b=this.itemsNumber;a=this.start+this.itemsOnPage;a>b&&(a=b);this.end=a;b=this.currentPage;this.prevPage=0>=b?0:b-1;b=this.currentPage;a=this.pagesNumber;
this.nextPage=0===a?0:b>=a-1?a-1:b+1}})(jQuery);(function(f){jQuery.fn.jplist.actions.Filters={};jQuery.fn.jplist.actions.Filters.removeCharacters=function(b,a){return!b?"":b.replace(RegExp(a,"ig"),"").toLowerCase()};jQuery.fn.jplist.actions.Filters.pathFilter=function(b,a){for(var c,d,e=[],g=0;g<a.length;g++)c=a[g],"default"===b.jqPath?e.push(c):(d=c.findPathitem(b))&&e.push(c);return e};jQuery.fn.jplist.actions.Filters.pathGroupFilter=function(b,a){var c,d=[],e,g=[];if(0>=b.length)return a;for(e=0;e<b.length;e++)c=b[e],c=new jQuery.fn.jplist.models.Path(c,
null),d.push(c);for(var k=0;k<a.length;k++){e=a[k];for(var h=0;h<d.length;h++)if(c=d[h],"default"===c.jqPath){g.push(e);break}else(c=e.findPathitem(c))&&g.push(e)}return g};jQuery.fn.jplist.actions.Filters.invertedPathFilter=function(b,a){for(var c,d,e=[],g=!1,k=0;k<a.length;k++)if(c=a[k],g=!1,b&&0<b.length){for(var h=0;h<b.length;h++)d=b.eq(h),d=d.attr("data-path").toString(),"default"==d?g=!0:(d=new jQuery.fn.jplist.models.Path(d,null),(d=c.findPathitem(d))&&(g=!0));g&&e.push(c)}return e};jQuery.fn.jplist.actions.Filters.textFilter=
function(b,a,c,d){for(var e,g,k=[],h,f=0;f<c.length;f++)e=c[f],g=e.findPathitem(a),"default"===a.jqPath?k.push(e):g&&(g=jQuery.fn.jplist.actions.Filters.removeCharacters(g.text,d),h=jQuery.fn.jplist.actions.Filters.removeCharacters(b,d),-1!==g.indexOf(h)&&k.push(e));return k};jQuery.fn.jplist.actions.Filters.dateFilter=function(b,a,c,d,e,g){for(var f,h,l=[],q=0;q<e.length;q++)if(f=e[q],h=f.findPathitem(d))!b||!a||!c?l.push(f):(h=jQuery.fn.jplist.actions.Sort.formatDatetime(h.text,g))&&"function"===
typeof h.getFullYear&&h.getFullYear()===b&&(h.getMonth()-1===a&&h.getDate()===c)&&l.push(f);return l};jQuery.fn.jplist.actions.Filters.pagerFilter=function(b,a){var c=[];return c=a.slice(b.start,b.end)};jQuery.fn.jplist.actions.Filters.rangeFilter=function(b,a,c,d,e,g){c=[];for(var f,h=0;h<a.length;h++)if(d=a[h],f=d.findPathitem(b))f=parseInt(f.text,10),!isNaN(f)&&(f>=e&&f<=g)&&c.push(d);return c};jQuery.fn.jplist.actions.Filters.dateRangeFilter=function(b,a,c,d,e,g,f,h,l){for(var q=[],n,m,r,p,s=
0;s<a.length;s++)if(n=a[s],m=n.findPathitem(b))if(r=!d||!e||!g,p=!f||!h||!l,r||p)q.push(n);else if((p=jQuery.fn.jplist.actions.Sort.formatDatetime(m.text,c))&&"function"===typeof p.getFullYear)m=new Date(d,e,g),r=new Date(f,h,l),p.setHours(0),p.setMinutes(0),p.setSeconds(0),p>=m&&p<=r&&q.push(n);return q};jQuery.fn.jplist.actions.Filters.autocompleteFilter=function(b,a,c,d,e){var g=[],k,h;if(f.isNumeric(b)&&f.isNumeric(a)&&google&&jQuery.fn.jlocator&&jQuery.fn.jlocator.store){b=new google.maps.LatLng(b,
a);for(var l=0;l<d.length;l++)a=d[l],k=new jQuery.fn.jlocator.store(a.jqElement,{}),h=null!=k.country?f.trim(k.country.toLowerCase())==f.trim(c.toLowerCase()):!1,k=google.maps.geometry.spherical.computeDistanceBetween(b,k.latlng),(k<=e||h)&&g.push(a);return g}return d}})(jQuery);(function(f){jQuery.fn.jplist.actions.Sort={};var b=function(c,a){var b,e=null;b=c.replace(/{year}|{month}|{day}|{hour}|{min}|{sec}/g,".*");(b=RegExp(b,"g").exec(a))&&1<b.length&&(e=b[1]);return e},a=function(c,a){var b=null;if("{month}"==c){a=a.toLowerCase();if("january"===a||"jan"===a||"jan."===a)b=0;if("february"===a||"feb"===a||"feb."===a)b=1;if("march"===a||"mar"===a||"mar."===a)b=2;if("april"==a||"apr"===a||"apr."===a)b=3;"may"===a&&(b=4);if("july"==a||"jun"===a||"jun."===a)b=5;if("april"===
a||"jul"===a||"jul."===a)b=6;if("august"===a||"aug"===a||"aug."===a)b=7;if("september"===a||"sep"===a||"sep."===a)b=8;if("october"===a||"oct"===a||"oct."===a)b=9;if("november"===a||"nov"===a||"nov."===a)b=10;if("december"===a||"dec"===a||"dec."===a)b=11;null===b&&(b=parseInt(a,10),isNaN(b)||b--)}else b=parseInt(a,10);return b},c=function(a,c,b,e){a=a.findPathitem(e);c=c.findPathitem(e);e=parseFloat(a.text.replace(/[^0-9\.]+/g,""));c=parseFloat(c.text.replace(/[^0-9\.]+/g,""));return e==c?0:"asc"==
b?isNaN(e)?1:isNaN(c)?-1:e-c:isNaN(e)?1:isNaN(c)?-1:c-e},d=function(a,c,b,e,d){a=a.findPathitem(e);c=c.findPathitem(e);d?(e=RegExp(d,"ig"),d=a.text.toString().replace(e,"").toLowerCase(),a=c.text.toString().replace(e,"").toLowerCase()):(d=a.text.toString().toLowerCase(),a=c.text.toString().toLowerCase());return d==a?0:"asc"==b?d>a?1:-1:d<a?1:-1},e=function(a,c,b,e,d){a=a.findPathitem(e);c=c.findPathitem(e);f.trim(d)?(e=jQuery.fn.jplist.actions.Sort.formatDatetime(a.text,d),d=jQuery.fn.jplist.actions.Sort.formatDatetime(c.text,
d)):(e=new Date(Date.parse(a.text)),d=new Date(Date.parse(c.text)));return e==d?0:"asc"==b?e>d?1:-1:e<d?1:-1},g=function(a,b,f,q){var n=0,m,r,p;if(0<f.length){m=f[q];if("default"!=m.data.path)switch(r=new jQuery.fn.jplist.models.Path(m.data.path,m.data.type),p=m.data.order,m.data.dateTimeFormat||(m.data.dateTimeFormat=""),m.data.ignore||(m.data.ignore=""),m.data.type){case "text":n=d(a,b,p,r,m.data.ignore);break;case "number":n=c(a,b,p,r);break;case "datetime":n=e(a,b,p,r,m.data.dateTimeFormat);break;
case "date":n=e(a,b,p,r,m.data.dateTimeFormat)}else n=a.index,m=b.index,n=n===m?0:isNaN(n)?1:isNaN(m)?-1:n-m;0===n&&q+1<f.length&&(n=g(a,b,f,q+1))}return n};jQuery.fn.jplist.actions.Sort.formatDatetime=function(c,e){var d,g,f,m,r,p;e=e.replace(/\./g,"\\.");e=e.replace(/\(/g,"\\(");e=e.replace(/\)/g,"\\)");e=e.replace(/\[/g,"\\[");e=e.replace(/\]/g,"\\]");d=e.replace("{year}","(.*)");(g=b(d,c))&&(g=a("{year}",g));d=e.replace("{day}","(.*)");(m=b(d,c))&&(m=a("{day}",m));d=e.replace("{month}","(.*)");
(f=b(d,c))&&(f=a("{month}",f));d=e.replace("{hour}","(.*)");(r=b(d,c))&&(r=a("{hour}",r));d=e.replace("{min}","(.*)");(p=b(d,c))&&(p=a("{min}",p));d=e.replace("{sec}","(.*)");(d=b(d,c))&&(d=a("{sec}",d));if(!g||isNaN(g))g=1900;if(!f||isNaN(f))f=0;if(!m||isNaN(m))m=1;if(!r||isNaN(r))r=0;if(!p||isNaN(p))p=0;if(!d||isNaN(d))d=0;return new Date(g,f,m,r,p,d)};jQuery.fn.jplist.actions.Sort.doubleSort=function(a,c){c.sort(function(c,b){return g(c,b,a,0)})};jQuery.fn.jplist.actions.Sort.numbers=function(a,
b,e){e.sort(function(e,d){return c(e,d,a,b)})};jQuery.fn.jplist.actions.Sort.text=function(a,c,b,e){b.sort(function(b,g){return d(b,g,a,c,e)})};jQuery.fn.jplist.actions.Sort.datetime=function(a,c,b,d){b.sort(function(b,g){return e(b,g,a,c,d)})}})(jQuery);(function(f){var b=function(a){var c=f(window).scrollTop(),b;b=Number(a.data("top"));isNaN(b)||(c>b?a.addClass("jplist-sticky"):a.removeClass("jplist-sticky"))},a=function(a,c){c.each(function(){var a=f(this),c=a.offset().top;a.data("top",c);b(a)});f(window).scroll(function(){c.each(function(){b(f(this))})})},c=function(a){for(var c,b=0;b<a.controls.length;b++)c=a.controls[b],c.initEvents();a.$jplistBox.on(a.options.answer_event,function(c,b){jQuery.fn.jplist.services.Panel.setStatuses(a.controls,
b,!1)});a.$jplistBox.on(a.options.force_ask_event,function(c,b){var d;d=jQuery.fn.jplist.services.Panel.getStatuses(a.controls,b);a.$jplistBox.trigger(a.options.ask_event,[d])});a.$jplistBox.on(a.options.restore_event,function(c,b){jQuery.fn.jplist.services.Panel.setStatuses(a.controls,b,!0);a.$jplistBox.trigger(a.options.ask_event,[b])});a.$jplistBox.on(a.options.status_event,function(c,b){var d;d=jQuery.fn.jplist.services.Panel.getStatuses(a.controls,!1);d=jQuery.fn.jplist.services.Panel.mergeWithStatus(d,
b);a.$jplistBox.trigger(a.options.ask_event,[d])});a.$jplistBox.on(a.options.change_url_deep_links_event,function(c){if(a.options.deep_linking){c=a.controls;var b,d="",d=[];b="";for(var g=0;g<c.length;g++)b=c[g],b=f.trim(b.getDeepLink()),""!==b&&-1===f.inArray(b,d)&&d.push(b);d=d.join("~~");jQuery.fn.jplist.services.Helper.replaceHash(d)}});a.$jplistBox.on(a.options.set_deep_links_event,function(c){var b=f.trim(window.location.hash.replace("#","")),d=[],g;c=[];var k;if(a.options.deep_linking&&""!==
f.trim(b)){d=b.split("~~");for(b=0;b<d.length;b++)g=d[b],k=g.split("="),2===k.length&&(g=k[0],k=k[1],g=g.split("--"),2===g.length&&(g={controlName:g[0],propName:g[1],propValue:k},c.push(g)))}if(0>=c.length)a.$jplistBox.trigger(a.options.force_ask_event,[!0]);else for(var d=a.controls,r=0;r<c.length;r++){b=c[r];g=jQuery.fn.jplist.services.Panel.findControlsByName(d,b.controlName);for(var p=0;p<g.length;p++)k=g[p],k.setDeepLink(b.propName,b.propValue)}})},d=function(b,d,k){b={options:d,$jplistBox:b,
$panel:b.find(d.panel_path),$controls:null,$sticky:null,events:k,paths:[],controls:[]};b.$controls=b.$panel.find("[data-control-type]");d=b.$controls;var h;k=[];for(var l=0;l<d.length;l++)h=d.eq(l),h=new jQuery.fn.jplist.view.PanelControl(b.$jplistBox,b.options,h,b.events),k.push(h);b.controls=k;b.paths=jQuery.fn.jplist.services.Panel.getPaths(b.controls);b.$sticky=b.$jplistBox.find('[data-sticky="true"]');0<b.$sticky.length&&a(b,b.$sticky);c(b);return f.extend(this,b)};jQuery.fn.jplist.view.Panel=
function(a,b,c){a=new d(a,b,c);this.paths=a.paths;this.controls=a.controls}})(jQuery);(function(f){var b=function(a){var b;a.controlTypeClass&&(b=a.controlTypeClass.render)&&f.isFunction(b)&&b(a)},a=function(a){var b;a.controlTypeClass&&(b=a.controlTypeClass.initEvents)&&f.isFunction(b)&&b(a)},c=function(a,c,g,k){a={$jplistBox:a,options:c,$control:g,events:k,type:null,action:null,name:null,cookies:!0,controlType:null,controlTypeClass:null,controlTypeOptions:null};a.type=g.attr("data-control-type");a.action=g.attr("data-control-action");a.name=g.attr("data-control-name");if((g=g.attr("data-control-cookies"))&&
"false"===g.toString())a.cookies=!1;a.controlType=a.options.control_types[a.type];a.controlType&&(a.controlType.class_name&&(a.controlTypeClass=jQuery.fn.jplist.controls[a.controlType.class_name]),a.controlType.options&&(a.controlTypeOptions=a.controlType.options));b(a);return f.extend(this,a)};c.prototype.render=function(){b(this)};c.prototype.setDeepLink=function(a,b){var c;this.controlTypeClass&&(c=this.controlTypeClass.setDeepLink)&&f.isFunction(c)&&c(this,a,b)};c.prototype.getDeepLink=function(){var a,
b="";this.controlTypeClass&&(a=this.controlTypeClass.getDeepLink)&&f.isFunction(a)&&(b=a(this));return b};c.prototype.getPaths=function(){var a=[],b;this.controlTypeClass&&(b=this.controlTypeClass.getPaths)&&f.isFunction(b)&&b(this,a);return a};c.prototype.getStatus=function(a){var b=null,c;this.controlTypeClass&&(c=this.controlTypeClass.getStatus)&&f.isFunction(c)&&(b=c(a,this));return b};c.prototype.setStatus=function(a,b){var c;a.action===this.action&&a.name===this.name&&this.controlTypeClass&&
(c=this.controlTypeClass.setStatus)&&f.isFunction(c)&&c(a,this,b)};c.prototype.initEvents=function(){a(this)};jQuery.fn.jplist.view.PanelControl=function(b,e,g,f){b=new c(b,e,g,f);a(b);this.options=b.options;this.$jplistBox=b.$jplistBox;this.$control=b.$control;this.events=b.events;this.type=b.type;this.action=b.action;this.name=b.name;this.cookies=b.cookies;this.controlType=b.controlType;this.controlTypeClass=b.controlTypeClass;this.controlTypeOptions=b.controlTypeOptions;this.render=b.render;this.getPaths=
b.getPaths;this.getStatus=b.getStatus;this.setStatus=b.setStatus;this.initEvents=b.initEvents;this.setDeepLink=b.setDeepLink;this.getDeepLink=b.getDeepLink}})(jQuery);(function(f){var b=function(a){a.$jplistBox.on(a.options.ask_event,function(b,e){var g;a.options.cookies&&jQuery.fn.jplist.services.Cookies.saveCookies(e,a.options.cookie_name,a.options.expiration);g=f.extend(!0,{},a.options.dataSource.server.ajax,{data:{statuses:encodeURIComponent(JSON.stringify(e))}});f.ajax(g).done(function(b){b||(b="");var d=b;a.$itemsBox.html(d);a.$jplistBox.trigger(a.options.answer_event,[e]);!d||""===f.trim(d)?(a.$noResults.removeClass("jplist-hidden"),a.$itemsBox.addClass("jplist-hidden")):
(a.$noResults.addClass("jplist-hidden"),a.$itemsBox.removeClass("jplist-hidden"));f.isFunction(a.options.redraw_callback)&&a.options.redraw_callback();f.isFunction(a.options.dataSource.server.serverOkCallback)&&a.options.dataSource.server.serverOkCallback(b,e)}).fail(function(){f.isFunction(a.options.dataSource.server.serverErrorCallback)&&a.options.dataSource.server.serverErrorCallback(e)})})},a=function(a,d,e,g){a={options:g,$jplistBox:a,$itemsBox:d,$noResults:e};b(a);return f.extend(this,a)};jQuery.fn.jplist.controller.Server=
function(b,d,e,g){return new a(b,d,e,g)}})(jQuery);(function(f){var b=function(a){a.$jplistBox.on(a.options.ask_event,function(b,e){a.options.cookies&&jQuery.fn.jplist.services.Cookies.saveCookies(e,a.options.cookie_name,a.options.expiration);f.isFunction(a.options.dataSource.jsFunction.jsFunctionName)&&(a.$itemsBox.html(""),a.$preloader&&a.$preloader.show(0),a.options.dataSource.jsFunction.jsFunctionName(e,a.options,function(b){a.$preloader&&a.$preloader.hide(0);a.$itemsBox.html(b);a.$jplistBox.trigger(a.options.answer_event,[e]);!b||""===f.trim(b)?
(a.$noResults.removeClass("jplist-hidden"),a.$itemsBox.addClass("jplist-hidden")):(a.$noResults.addClass("jplist-hidden"),a.$itemsBox.removeClass("jplist-hidden"));f.isFunction(a.options.redraw_callback)&&a.options.redraw_callback()}))})},a=function(a,d,e,g){a={options:g,$jplistBox:a,$itemsBox:d,$noResults:e,$preloader:null};a.options.dataSource.jsFunction.preloaderPath&&(a.$preloader=a.$jplistBox.find(a.options.dataSource.jsFunction.preloaderPath));b(a);return f.extend(this,a)};jQuery.fn.jplist.controller.dataSourceJSFunction=
function(b,d,e,g){return new a(b,d,e,g)}})(jQuery);(function(f){var b=function(a,b){a.modifyDataview(function(c){var d;d=new jQuery.fn.jplist.models.Path(b.data.path,null);switch(b.data.filterType){case "text":a.dataview=jQuery.fn.jplist.actions.Filters.textFilter(b.data.value,d,c,b.data.ignore);break;case "path":a.dataview=jQuery.fn.jplist.actions.Filters.pathFilter(d,c);break;case "inverted_path":a.dataview=jQuery.fn.jplist.actions.Filters.invertedPathFilter(b.data.checked_checkboxes,c);break;case "range":a.dataview=jQuery.fn.jplist.actions.Filters.rangeFilter(d,
c,b.data.min,b.data.max,b.data.prev,b.data.next);break;case "date":a.dataview=jQuery.fn.jplist.actions.Filters.dateFilter(b.data.year,b.data.month,b.data.day,d,c,b.data.format);break;case "date_range":a.dataview=jQuery.fn.jplist.actions.Filters.dateRangeFilter(d,c,b.data.format,b.data.prev_year,b.data.prev_month,b.data.prev_day,b.data.next_year,b.data.next_month,b.data.next_day);break;case "pathGroup":a.dataview=jQuery.fn.jplist.actions.Filters.pathGroupFilter(b.data.pathGroup,c);break;case "autocomplete":a.dataview=
jQuery.fn.jplist.actions.Filters.autocompleteFilter(b.data.latitude,b.data.longitude,b.data.name,c,b.data.radius)}})},a=function(a){a.$jplistBox.on(a.options.ask_event,function(c,d){a.options.cookies&&jQuery.fn.jplist.services.Cookies.saveCookies(d,a.options.cookie_name,a.options.expiration);if(a.collection){var h=a.collection;h.resetDataview();var l;l=jQuery.fn.jplist.services.Status.getStatusesByAction("sort",d);jQuery.fn.jplist.actions.Sort.doubleSort(l,h.dataview);var q;l=jQuery.fn.jplist.services.Status.getStatusesByAction("filter",
d);for(var n=0;n<l.length;n++)q=l[n],b(h,q);var n=null,m;l=jQuery.fn.jplist.services.Status.getStatusesByAction("paging",d);for(q=0;q<l.length;q++)n=l[q],m=n.data.currentPage?n.data.currentPage:0,n=new jQuery.fn.jplist.actions.Pagination(m,n.data.number,h.dataview.length),l[q].data.paging=n,h.dataview=jQuery.fn.jplist.actions.Filters.pagerFilter(n,h.dataview);l=h.dataitemsToJqueryObject();q=h.dataviewToJqueryObject();0<l.length&&l.detach();0<q.length&&a.$itemsBox.append(q);a.$jplistBox.trigger(a.options.answer_event,
[d]);0>=h.dataview.length?(a.$noResults.removeClass("jplist-hidden"),a.$itemsBox.addClass("jplist-hidden")):(a.$noResults.addClass("jplist-hidden"),a.$itemsBox.removeClass("jplist-hidden"));f.isFunction(a.options.redraw_callback)&&a.options.redraw_callback();""!==a.options.animate_to_top&&(h="auto"!==a.options.animate_to_top?f(a.options.animate_to_top).offset().top:a.$jplistBox.offset().top,f("html, body").animate({scrollTop:h},a.options.animate_to_top_duration))}a.options.deep_linking&&a.$jplistBox.trigger(a.options.change_url_deep_links_event,
[])})},c=function(a,b,d,f){for(var l;f<d.length;f++)l=d.eq(f),b.addDataItem(l,a.panel.paths,f),f+1<d.length&&0===f%50&&window.setTimeout(function(){c(a,b,d,f)},0)},d=function(b,d){var k,h={options:d,$jplistBox:b,$itemsBox:b.find(d.items_box).eq(0),$noResults:null,panel:null,collection:null,events:null,server:null,dataSourceJSFunction:null};h.events=new jQuery.fn.jplist.controller.Events(h.$jplistBox,h.options);h.panel=new jQuery.fn.jplist.view.Panel(h.$jplistBox,h.options,h.events);h.$noResults=b.find(h.options.no_results);
switch(h.options.dataSource.type){case "html":var l;k=new jQuery.fn.jplist.services.Collection;l=h.$itemsBox.find(h.options.item_path).detach();c(h,k,l,0);k.resetDataview();h.collection=k;a(h);break;case "server":h.server=new jQuery.fn.jplist.controller.Server(h.$jplistBox,h.$itemsBox,h.$noResults,h.options);break;case "jsFunction":f.isFunction(h.options.dataSource.jsFunction.jsFunctionName)&&(h.dataSourceJSFunction=new jQuery.fn.jplist.controller.dataSourceJSFunction(h.$jplistBox,h.$itemsBox,h.$noResults,
h.options))}h.options.deep_linking?h.$jplistBox.trigger(h.options.set_deep_links_event,[]):h.options.cookies?(k=jQuery.fn.jplist.services.Cookies.restoreCookies(h.options.cookie_name),0<k.length?h.$jplistBox.trigger(h.options.restore_event,[k]):h.$jplistBox.trigger(h.options.force_ask_event,[!0])):h.$jplistBox.trigger(h.options.force_ask_event,[!0]);return f.extend(this,h)};jQuery.fn.jplist.controller.Controller=function(a,b){return new d(a,b)}})(jQuery);(function(f){var b=function(a,b){return f.extend(this,{options:b,$jplistBox:a,lastStatus:null})};jQuery.fn.jplist.controller.Events=function(a,c){return new b(a,c)}})(jQuery);
